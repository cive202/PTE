I will implement the **Stress Scoring Module** and integrate it into your existing pipeline as a drop-in enhancement. This will add syllable-level emphasis checking (Duration + Energy) to your pronunciation score.

### **Phase 1: Create Stress Scoring Module**
1.  **Create `pte_core/scoring/stress.py`**:
    *   **Function `calculate_word_stress_score(audio_segment, sr, phoneme_alignments, reference_stress)`**:
        *   Takes the audio of a word and its phoneme timings (from MFA).
        *   Groups phonemes into syllables (using heuristics or CMUdict mapping).
        *   Calculates **RMS Energy** and **Duration** for each syllable.
        *   Identifies the "Observed Primary Stress" (loudest/longest syllable).
        *   Compares with "Reference Primary Stress" (from CMUdict).
        *   Returns a score (0.0 to 1.0).

### **Phase 2: Update Validator Logic**
2.  **Modify `api/validator.py`**:
    *   **Import**: `from pte_core.scoring.stress import calculate_word_stress_score`.
    *   **Logic Update**:
        *   Inside the word loop (where we already have MFA timings):
            *   Extract the word's audio segment.
            *   Get reference stress patterns (e.g., `010`) from `PhonemeReferenceBuilder`.
            *   Call the stress scorer.
        *   **Combine Scores**: `Final Pronunciation = (0.7 * PER_Score) + (0.3 * Stress_Score)`.
        *   This ensures "CON-tent" vs "con-TENT" errors penalize the score but don't fail it completely if the phonemes are correct.

### **Phase 3: Dependencies**
3.  **Check `librosa`**: We already installed it for the phoneme service, but we need to ensure `numpy` and `scipy` are available in the main environment (flask app) for signal processing.

### **Phase 4: Verification**
4.  **Test Case**:
    *   Record a word like "Record" (noun) vs "Record" (verb).
    *   Verify the stress score changes based on emphasis.
